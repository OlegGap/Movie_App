{"ast":null,"code":"import _classCallCheck from \"/Users/oleg/Documents/goit-new/react/moviwApp/Movie_App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/oleg/Documents/goit-new/react/moviwApp/Movie_App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/oleg/Documents/goit-new/react/moviwApp/Movie_App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/oleg/Documents/goit-new/react/moviwApp/Movie_App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/oleg/Documents/goit-new/react/moviwApp/Movie_App/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/oleg/Documents/goit-new/react/moviwApp/Movie_App/src/components/pages/Header/HeaderContainer/HeaderContainer.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getGenres, getMovies } from '../../../../modules/selectors';\nimport { fetchSuccessGenres, fetchSuccessSearchMovie, fetchSuccessMovies } from '../../../../modules/operations';\nimport Header from '../Header/Header';\n\nvar HeaderContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HeaderContainer, _Component);\n\n  function HeaderContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HeaderContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HeaderContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      search: '',\n      menuOpen: false\n    };\n\n    _this.handleMenuClick = function () {\n      _this.setState(function (prevState) {\n        return {\n          menuOpen: !prevState.menuOpen\n        };\n      });\n    };\n\n    _this.handleLinkClick = function () {\n      return _this.setState({\n        menuOpen: false\n      });\n    };\n\n    _this.handleChange = function (e) {\n      return _this.setState({\n        search: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      var search = _this.state.search;\n      e.preventDefault();\n\n      _this.props.fetchSuccessSearchMovie(search);\n\n      _this.setState({\n        search: ''\n      });\n\n      _this.handleMenuClick();\n    };\n\n    _this.getId = function (id) {\n      return _this.props.fetchSuccessMovies(\"&with_genres=\".concat(id));\n    };\n\n    return _this;\n  }\n\n  _createClass(HeaderContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchSuccessGenres();\n      this.props.fetchSuccessSearchMovie(this.state.search);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          search = _this$state.search,\n          menuOpen = _this$state.menuOpen;\n      var _this$props = this.props,\n          genres = _this$props.genres,\n          searchMovie = _this$props.searchMovie,\n          movies = _this$props.movies;\n      return React.createElement(Header, {\n        handleSubmit: this.handleSubmit,\n        handleChange: this.handleChange,\n        search: search,\n        searchMovie: searchMovie,\n        movies: movies,\n        getId: this.getId,\n        genres: genres,\n        handleMenuClick: this.handleMenuClick,\n        handleLinkClick: this.handleLinkClick,\n        menuOpen: menuOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return HeaderContainer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    genres: getGenres(state),\n    movies: getMovies(state)\n  };\n};\n\nvar mapDispatchToProps = {\n  fetchSuccessGenres: fetchSuccessGenres,\n  fetchSuccessSearchMovie: fetchSuccessSearchMovie,\n  fetchSuccessMovies: fetchSuccessMovies\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","map":{"version":3,"sources":["/Users/oleg/Documents/goit-new/react/moviwApp/Movie_App/src/components/pages/Header/HeaderContainer/HeaderContainer.jsx"],"names":["React","Component","connect","getGenres","getMovies","fetchSuccessGenres","fetchSuccessSearchMovie","fetchSuccessMovies","Header","HeaderContainer","state","search","menuOpen","handleMenuClick","setState","prevState","handleLinkClick","handleChange","e","target","value","handleSubmit","preventDefault","props","getId","id","genres","searchMovie","movies","mapStateToProps","mapDispatchToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,+BAArC;AACA,SACEC,kBADF,EAEEC,uBAFF,EAGEC,kBAHF,QAIO,gCAJP;AAMA,OAAOC,MAAP,MAAmB,kBAAnB;;IAEMC,e;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,QAAQ,EAAE;AAFJ,K;;UAURC,e,GAAkB,YAAM;AACtB,YAAKC,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAK;AAC1BH,UAAAA,QAAQ,EAAE,CAACG,SAAS,CAACH;AADK,SAAL;AAAA,OAAvB;AAGD,K;;UAEDI,e,GAAkB;AAAA,aAAM,MAAKF,QAAL,CAAc;AAAEF,QAAAA,QAAQ,EAAE;AAAZ,OAAd,CAAN;AAAA,K;;UAElBK,Y,GAAe,UAAAC,CAAC;AAAA,aAAI,MAAKJ,QAAL,CAAc;AAAEH,QAAAA,MAAM,EAAEO,CAAC,CAACC,MAAF,CAASC;AAAnB,OAAd,CAAJ;AAAA,K;;UAEhBC,Y,GAAe,UAAAH,CAAC,EAAI;AAAA,UACVP,MADU,GACC,MAAKD,KADN,CACVC,MADU;AAElBO,MAAAA,CAAC,CAACI,cAAF;;AACA,YAAKC,KAAL,CAAWjB,uBAAX,CAAmCK,MAAnC;;AACA,YAAKG,QAAL,CAAc;AAAEH,QAAAA,MAAM,EAAE;AAAV,OAAd;;AACA,YAAKE,eAAL;AACD,K;;UAEDW,K,GAAQ,UAAAC,EAAE;AAAA,aAAI,MAAKF,KAAL,CAAWhB,kBAAX,wBAA8CkB,EAA9C,EAAJ;AAAA,K;;;;;;;wCAvBU;AAClB,WAAKF,KAAL,CAAWlB,kBAAX;AACA,WAAKkB,KAAL,CAAWjB,uBAAX,CAAmC,KAAKI,KAAL,CAAWC,MAA9C;AACD;;;6BAsBQ;AAAA,wBACsB,KAAKD,KAD3B;AAAA,UACCC,MADD,eACCA,MADD;AAAA,UACSC,QADT,eACSA,QADT;AAAA,wBAEiC,KAAKW,KAFtC;AAAA,UAECG,MAFD,eAECA,MAFD;AAAA,UAESC,WAFT,eAESA,WAFT;AAAA,UAEsBC,MAFtB,eAEsBA,MAFtB;AAGP,aACE,oBAAC,MAAD;AACE,QAAA,YAAY,EAAE,KAAKP,YADrB;AAEE,QAAA,YAAY,EAAE,KAAKJ,YAFrB;AAGE,QAAA,MAAM,EAAEN,MAHV;AAIE,QAAA,WAAW,EAAEgB,WAJf;AAKE,QAAA,MAAM,EAAEC,MALV;AAME,QAAA,KAAK,EAAE,KAAKJ,KANd;AAOE,QAAA,MAAM,EAAEE,MAPV;AAQE,QAAA,eAAe,EAAE,KAAKb,eARxB;AASE,QAAA,eAAe,EAAE,KAAKG,eATxB;AAUE,QAAA,QAAQ,EAAEJ,QAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAcD;;;;EAhD2BX,S;;AAmD9B,IAAM4B,eAAe,GAAG,SAAlBA,eAAkB,CAAAnB,KAAK;AAAA,SAAK;AAChCgB,IAAAA,MAAM,EAAEvB,SAAS,CAACO,KAAD,CADe;AAEhCkB,IAAAA,MAAM,EAAExB,SAAS,CAACM,KAAD;AAFe,GAAL;AAAA,CAA7B;;AAIA,IAAMoB,kBAAkB,GAAG;AACzBzB,EAAAA,kBAAkB,EAAlBA,kBADyB;AAEzBC,EAAAA,uBAAuB,EAAvBA,uBAFyB;AAGzBC,EAAAA,kBAAkB,EAAlBA;AAHyB,CAA3B;AAMA,eAAeL,OAAO,CACpB2B,eADoB,EAEpBC,kBAFoB,CAAP,CAGbrB,eAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getGenres, getMovies } from '../../../../modules/selectors';\nimport {\n  fetchSuccessGenres,\n  fetchSuccessSearchMovie,\n  fetchSuccessMovies,\n} from '../../../../modules/operations';\n\nimport Header from '../Header/Header';\n\nclass HeaderContainer extends Component {\n  state = {\n    search: '',\n    menuOpen: false,\n  };\n\n  componentDidMount() {\n    this.props.fetchSuccessGenres();\n    this.props.fetchSuccessSearchMovie(this.state.search);\n  }\n\n  handleMenuClick = () => {\n    this.setState(prevState => ({\n      menuOpen: !prevState.menuOpen,\n    }));\n  };\n\n  handleLinkClick = () => this.setState({ menuOpen: false });\n\n  handleChange = e => this.setState({ search: e.target.value });\n\n  handleSubmit = e => {\n    const { search } = this.state;\n    e.preventDefault();\n    this.props.fetchSuccessSearchMovie(search);\n    this.setState({ search: '' });\n    this.handleMenuClick();\n  };\n\n  getId = id => this.props.fetchSuccessMovies(`&with_genres=${id}`);\n\n  render() {\n    const { search, menuOpen } = this.state;\n    const { genres, searchMovie, movies } = this.props;\n    return (\n      <Header\n        handleSubmit={this.handleSubmit}\n        handleChange={this.handleChange}\n        search={search}\n        searchMovie={searchMovie}\n        movies={movies}\n        getId={this.getId}\n        genres={genres}\n        handleMenuClick={this.handleMenuClick}\n        handleLinkClick={this.handleLinkClick}\n        menuOpen={menuOpen}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  genres: getGenres(state),\n  movies: getMovies(state),\n});\nconst mapDispatchToProps = {\n  fetchSuccessGenres,\n  fetchSuccessSearchMovie,\n  fetchSuccessMovies,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(HeaderContainer);\n"]},"metadata":{},"sourceType":"module"}